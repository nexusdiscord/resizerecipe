(self.webpackChunkresize_recipe=self.webpackChunkresize_recipe||[]).push([[179],{3008:function(e,t,n){"use strict";n(5306),n(3948);const o="Untitled recipe",c="unspecified";function i(e){return/^(http:\/\/|https:\/\/)/.test(e)}function a(e){return e?"".concat(e," | ").concat("Resize Recipe"):"Resize Recipe – Quickly scale ingredient quantities"}let r,l,s,d,u,m,p,g,f,v,b,w,h,E,k,C,y,x;function I(e){const t=document.createElement("textarea");if(t.readOnly=!0,t.style.position="absolute",t.style.left="-10000px",t.style.top="".concat(window.pageYOffset+x.getBoundingClientRect().top,"px"),t.value=e,document.body.appendChild(t),navigator.userAgent.match(/ipad|iphone|ipod/i)){const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e),t.setSelectionRange(0,999999)}else t.select();document.execCommand("copy"),document.body.removeChild(t)}function B(){var e,t;return function(e,t,n,o,c,i,a){let r="name=".concat(encodeURIComponent(t));return r+="&source=".concat(encodeURIComponent(n)),r+="&input=".concat(encodeURIComponent(o)),r+="&scale-from=".concat(encodeURIComponent(c)),r+="&scale-to=".concat(encodeURIComponent(i)),r+="&quantities=".concat(a?"simple":"precise"),r=r.replace(/%20/g,"+"),"".concat(e,"/?").concat(r)}(window.location.origin,null!==(e=s.textContent)&&void 0!==e?e:"",null!==(t=d.textContent)&&void 0!==t?t:"",f.value,v.value,b.value,w.checked)}function L(e){return'<a href="'.concat(e,'" rel="nofollow noopener" target="_blank">').concat(e,"</a>")}function R(){f.value="",f.focus(),H()}function N(){I(B())}function S(){I(C.value)}function q(){var e,t;l.classList.add("hidden");const n=document.createElement("form");n.className="flex flex-col h-full items-center";const a=document.createElement("input");a.id="name-input",a.autocomplete="off",a.className="border-ctrl border-ctrl-on-light border-ctrl-on-light-shadow border-ctrl-single-line header-input font-serif max-w-2xl mb-1 text-lg w-full",a.value=null!==(e=s.textContent)&&void 0!==e?e:"",n.appendChild(a);const u=document.createElement("input");u.id="source-input",u.autocomplete="off",u.className="border-ctrl border-ctrl-on-light border-ctrl-on-light-shadow border-ctrl-single-line header-input max-w-2xl mb-auto w-full",u.value=null!==(t=d.textContent)&&void 0!==t?t:"",n.appendChild(u);const m=document.createElement("button");m.type="submit",m.textContent="Done",n.appendChild(m),n.addEventListener("submit",(e=>{e.preventDefault(),s.textContent=a.value||o,i(u.value)?d.innerHTML=L(u.value):d.textContent=u.value||c,r.removeChild(n),l.classList.remove("hidden"),y.textContent=s.textContent,H()})),r.appendChild(n)}function M(){r=document.getElementById("header"),l=document.getElementById("committed-header-content"),s=document.getElementById("name"),d=document.getElementById("source"),u=document.getElementById("edit-header-btn"),m=document.getElementById("main"),p=document.getElementById("form"),g=document.getElementById("clear-input-btn"),f=document.getElementById("input"),v=document.getElementById("scale-from-input"),b=document.getElementById("scale-to-input"),w=document.getElementById("quantities-simple-input"),h=document.getElementById("quantities-precise-input"),E=document.getElementById("resize-btn"),k=document.getElementById("copy-output-btn"),C=document.getElementById("output"),y=document.getElementById("recipe-link"),x=document.getElementById("copy-link-btn"),F(),function(){const e=function(e){const t=window.location.search.substring(1).replace(/\+/g," ").split("&").reduce(((e,t)=>{const[n,o]=t.split("=");return e.set(n,decodeURIComponent(o||""))}),new Map),n=t.get("name");let o="";n&&(o=n);const c=t.get("source");let i="";c&&(i=c);const a=t.get("input")||t.get("i");let r="";a&&(r=a);const l=t.get("scale-from")||t.get("f");let s="";l&&/^(\d+|\d*\.\d+)$/.test(l)&&(s=Number(l).toString());const d=t.get("scale-to")||t.get("t");let u="";d&&/^(\d+|\d*\.\d+)$/.test(d)&&(u=Number(d).toString());let m="";switch(t.get("quantities")||t.get("q")){case"simple":case"s":m="simple";break;case"precise":case"p":m="precise"}return{name:o,source:i,input:r,scaleFrom:s,scaleTo:u,quantities:m}}();e.name&&(document.title=a(e.name)),s.textContent=e.name||o,i(e.source)?d.innerHTML=L(e.source):d.textContent=e.source||c,f.value=e.input||"Example:\n\nServes 4\n\n2 apples\n200 g blueberries\n7oz cherries\n1.5 figs\n1 1/2 mangoes\n1½ oranges\n1 ½ peaches\n\nAll numbers like these will be scaled.",v.value=e.scaleFrom||"4",b.value=e.scaleTo||"3","precise"===(e.quantities||"simple")?h.checked=!0:w.checked=!0,y.href=B(),y.textContent=s.textContent}(),window.localStorage.getItem("acknowledged-cookie-notice-version")&&localStorage.removeItem("acknowledged-cookie-notice-version"),window.addEventListener("resize",O),u.addEventListener("click",q),p.addEventListener("submit",A),g.addEventListener("click",R),f.addEventListener("input",H),v.addEventListener("focus",z),v.addEventListener("input",H),b.addEventListener("focus",U),b.addEventListener("input",H),w.addEventListener("input",H),h.addEventListener("input",H),k.addEventListener("click",S),x.addEventListener("click",N)}function z(){v.select()}function U(){b.select()}function A(e){e.preventDefault(),E.blur();const t=function(e,t,n,o){const c="(\\d+ )?\\d+\\/\\d+",i=new RegExp(c),a="(\\d+ ?)?[½⅓⅔¼¾⅕⅖⅗⅘⅙⅚⅐⅛⅜⅝⅞⅑⅒]",r=new RegExp(a),l="(".concat("\\d*\\.\\d+","|").concat(c,"|").concat(a,"|").concat("\\d+",")"),s=new RegExp(l,"g");return e.replace(s,(e=>{let c;c=i.test(e)?function(e){const t=e.split(" ");let n,o;1===t.length?(n="0",o=t[0]):(n=t[0],o=t[1]);const c=o.split("/");return(Number(n)+Number(c[0])/Number(c[1])).toString()}(e):r.test(e)?function(e){let t=0;switch(e.charAt(e.length-1)){case"½":t=.5;break;case"⅓":t=1/3;break;case"⅔":t=2/3;break;case"¼":t=1/4;break;case"¾":t=3/4;break;case"⅕":t=.2;break;case"⅖":t=.4;break;case"⅗":t=.6;break;case"⅘":t=.8;break;case"⅙":t=1/6;break;case"⅚":t=5/6;break;case"⅐":t=1/7;break;case"⅛":t=1/8;break;case"⅜":t=3/8;break;case"⅝":t=5/8;break;case"⅞":t=7/8;break;case"⅑":t=1/9;break;case"⅒":t=.1}return(Number(e.slice(0,-1))+t).toString()}(e):e;const a=Number(c)/t*n;return o?function(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,2-t);return 5*Math.round(e*n/5)/n}(a).toString():function(e){const t=e.toString().split(".")[0].length,n=Math.max(3,t);return Number(e.toPrecision(n))}(a).toString()}))}(f.value,Number(v.value),Number(b.value),w.checked);void 0!==C.value?C.value=t:C.textContent=t,function(){const e=window.innerHeight,t=m.getBoundingClientRect().bottom,n=C.getBoundingClientRect().top;if(t>e&&n>0){const o=Math.min(t-e,n-0);window.requestAnimationFrame((()=>{D(window.pageYOffset,o,500,window.performance.now())}))}}()}function O(){F()}function D(e,t,n,o){const c=(window.performance.now()-o)/n;var i;c<1?(window.scroll(0,e+((i=c)<.5?2*i*i:(4-2*i)*i-1)*t),window.requestAnimationFrame((()=>{D(e,t,n,o)}))):window.scroll(0,e+t)}function F(){const e=window.innerHeight/100;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}function H(){var e;const t=a(null!==(e=s.textContent)&&void 0!==e?e:""),n=B();window.history.replaceState(null,t,n),document.title=t,y.href=n}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",M):M(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js")}))}},function(e){"use strict";e.O(0,[216],(function(){return 3008,e(e.s=3008)})),e.O()}]);
//# sourceMappingURL=main.3faf82025509dbdb5189.js.map